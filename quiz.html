<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chemistry Challenge</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .answer-btn { transition: transform 0.1s; }
        .answer-btn:active { transform: scale(0.95); }
    </style>
</head>
<body class="bg-indigo-950 min-h-screen flex flex-col items-center justify-center p-4 text-white selection:bg-pink-500 selection:text-white">

    <!-- Top Bar -->
    <div class="fixed top-0 left-0 w-full p-4 flex justify-between items-center z-10 bg-indigo-900/50 backdrop-blur-sm">
        <div class="font-black text-xl tracking-tighter"><i class="fas fa-flask text-pink-500 mr-2"></i>CHEM<span class="text-blue-400">QUIZ</span></div>
        <div class="font-bold bg-black/30 px-4 py-1 rounded-full border border-white/10" id="score-badge">Score: 0</div>
    </div>

    <!-- MAIN GAME CONTAINER -->
    <main class="w-full max-w-3xl relative">
        
        <!-- SCREEN 1: START MENU -->
        <div id="start-screen" class="bg-white text-slate-800 rounded-2xl p-8 md:p-12 shadow-2xl text-center">
            <h1 class="text-4xl md:text-6xl font-black text-indigo-900 mb-4 tracking-tight">Ready to Play?</h1>
            <p class="text-lg text-slate-500 mb-8">10 Questions. 15 Seconds per question. Auto-advance enabled.</p>
            
            <button onclick="startGame()" class="bg-indigo-600 hover:bg-indigo-700 text-white text-xl font-bold py-4 px-12 rounded-xl shadow-[0_4px_0_rgb(55,48,163)] active:shadow-none active:translate-y-[4px] transition-all w-full md:w-auto">
                Start Quiz
            </button>
        </div>

        <!-- SCREEN 2: GAMEPLAY (Hidden by default) -->
        <div id="game-screen" class="hidden">
            
            <!-- Timer Bar -->
            <div class="bg-slate-700 h-4 rounded-full w-full mb-6 overflow-hidden relative">
                <div id="timer-bar" class="h-full bg-pink-500 w-full transition-all duration-1000 ease-linear"></div>
            </div>

            <!-- Question Box -->
            <div class="bg-white text-slate-900 rounded-xl p-8 mb-6 text-center shadow-lg min-h-[160px] flex items-center justify-center">
                <h2 id="question-text" class="text-2xl md:text-3xl font-bold">Loading...</h2>
            </div>

            <!-- Answer Grid (2x2) -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="options-container">
                <!-- Buttons injected via JS -->
            </div>

            <!-- Status Bar (Only used for feedback text now) -->
            <div id="status-bar" class="mt-6 h-8 text-center hidden">
                <div id="feedback-text" class="text-2xl font-black uppercase tracking-widest"></div>
            </div>
        </div>

        <!-- SCREEN 3: RESULTS (Hidden by default) -->
        <div id="result-screen" class="hidden bg-white text-slate-800 rounded-2xl p-12 shadow-2xl text-center">
            <div class="mb-6 text-6xl text-yellow-500 animate-bounce"><i class="fas fa-trophy"></i></div>
            <h2 class="text-4xl font-black text-indigo-900 mb-2">Quiz Complete!</h2>
            <p class="text-xl text-slate-500 mb-8">You scored <span id="final-score" class="font-bold text-indigo-600">0</span> out of <span id="total-qs">0</span></p>
            
            <div class="flex flex-col gap-3 md:flex-row justify-center">
                <button onclick="location.reload()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-lg">Play Again</button>
                <a href="index.html" class="bg-slate-200 hover:bg-slate-300 text-slate-700 font-bold py-3 px-8 rounded-lg">Back Home</a>
            </div>
        </div>

    </main>

    <script>
        // --- QUIZ DATA ---
        const questions = [
            { q: "What is the chemical symbol for Gold?", options: ["Go", "Gd", "Au", "Ag"], correct: 2 },
            { q: "Which particle has a positive charge?", options: ["Electron", "Proton", "Neutron", "Photon"], correct: 1 },
            { q: "What is the atomic number of Carbon?", options: ["6", "12", "14", "8"], correct: 0 },
            { q: "Elements in Group 18 (Noble Gases) are known for being:", options: ["Highly Explosive", "Radioactive", "Unreactive (Inert)", "Liquid at room temp"], correct: 2 },
            { q: "Water (H2O) is an example of what type of bond?", options: ["Ionic", "Covalent", "Metallic", "James Bond"], correct: 1 },
            { q: "What is the center of an atom called?", options: ["Core", "Nucleus", "Shell", "Orbit"], correct: 1 },
            { q: "Which element is needed for burning (combustion)?", options: ["Nitrogen", "Helium", "Hydrogen", "Oxygen"], correct: 3 },
            { q: "The vertical columns in the Periodic Table are called:", options: ["Periods", "Groups", "Lines", "Stacks"], correct: 1 },
            { q: "What charge does an electron have?", options: ["Positive", "Negative", "Neutral", "Variable"], correct: 1 },
            { q: "Isotopes are atoms of the same element with different numbers of:", options: ["Protons", "Neutrons", "Electrons", "Shells"], correct: 1 }
        ];

        // --- STYLING ---
        const colors = [
            "bg-red-500 border-red-700 hover:bg-red-400",    
            "bg-blue-500 border-blue-700 hover:bg-blue-400",  
            "bg-yellow-500 border-yellow-700 hover:bg-yellow-400", 
            "bg-green-500 border-green-700 hover:bg-green-400"  
        ];
        const icons = ["fa-square", "fa-circle", "fa-diamond", "fa-star"];

        // --- GAME STATE ---
        let currentQ = 0;
        let score = 0;
        let timer;
        let timeLeft = 15;
        let canAnswer = false;

        // --- DOM ELEMENTS ---
        const startScreen = document.getElementById('start-screen');
        const gameScreen = document.getElementById('game-screen');
        const resultScreen = document.getElementById('result-screen');
        const timerBar = document.getElementById('timer-bar');
        const optionsDiv = document.getElementById('options-container');

        function startGame() {
            startScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            // Reset
            clearInterval(timer);
            timeLeft = 15;
            canAnswer = true;
            document.getElementById('status-bar').classList.add('hidden'); // Hide feedback from previous
            timerBar.style.width = "100%";
            timerBar.classList.remove('bg-red-600');
            timerBar.classList.add('bg-pink-500');

            // Load Content
            const q = questions[currentQ];
            document.getElementById('question-text').textContent = q.q;
            
            optionsDiv.innerHTML = '';
            q.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = `answer-btn text-white text-lg font-bold p-6 rounded-lg shadow-[0_4px_0_rgba(0,0,0,0.2)] text-left flex items-center gap-3 ${colors[idx]}`;
                btn.innerHTML = `<i class="fas ${icons[idx]} opacity-50 text-xl"></i> <span>${opt}</span>`;
                btn.onclick = () => checkAnswer(idx, btn);
                optionsDiv.appendChild(btn);
            });

            // Start Timer
            timer = setInterval(() => {
                timeLeft--;
                const percent = (timeLeft / 15) * 100;
                timerBar.style.width = `${percent}%`;
                
                if(timeLeft <= 5) {
                    timerBar.classList.remove('bg-pink-500');
                    timerBar.classList.add('bg-red-600');
                }

                if(timeLeft <= 0) {
                    timeUp();
                }
            }, 1000);
        }

        function checkAnswer(selectedIdx, btnElement) {
            if(!canAnswer) return;
            canAnswer = false;
            clearInterval(timer);

            const q = questions[currentQ];
            const correctBtn = optionsDiv.children[q.correct];

            // Grey out all
            Array.from(optionsDiv.children).forEach(b => b.classList.add('opacity-40'));

            if(selectedIdx === q.correct) {
                // Correct
                score++;
                document.getElementById('score-badge').innerText = `Score: ${score}`;
                btnElement.classList.remove('opacity-40');
                btnElement.classList.add('ring-4', 'ring-white');
                showFeedback(true);
            } else {
                // Wrong
                btnElement.classList.remove('opacity-40');
                btnElement.classList.add('opacity-50'); 
                correctBtn.classList.remove('opacity-40');
                correctBtn.classList.add('ring-4', 'ring-green-400');
                showFeedback(false);
            }

            // AUTO NEXT: Wait 2 seconds, then go
            setTimeout(nextQuestion, 2000);
        }

        function timeUp() {
            if(!canAnswer) return;
            canAnswer = false;
            clearInterval(timer);
            const q = questions[currentQ];
            
            Array.from(optionsDiv.children).forEach(b => b.classList.add('opacity-40'));
            optionsDiv.children[q.correct].classList.remove('opacity-40');
            optionsDiv.children[q.correct].classList.add('ring-4', 'ring-white');
            
            showFeedback(false, "Time's Up!");

            // AUTO NEXT: Wait 2.5 seconds (extra time to realize time is up)
            setTimeout(nextQuestion, 2500);
        }

        function showFeedback(isCorrect, customMsg) {
            const statusBar = document.getElementById('status-bar');
            const txt = document.getElementById('feedback-text');
            statusBar.classList.remove('hidden');
            
            if(customMsg) {
                txt.textContent = customMsg;
                txt.className = "text-white";
            } else if (isCorrect) {
                txt.textContent = "CORRECT!";
                txt.className = "text-green-400 animate-pulse";
            } else {
                txt.textContent = "WRONG";
                txt.className = "text-red-400";
            }
        }

        function nextQuestion() {
            currentQ++;
            if(currentQ < questions.length) {
                loadQuestion();
            } else {
                endGame();
            }
        }

        function endGame() {
            gameScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            document.getElementById('final-score').textContent = score;
            document.getElementById('total-qs').textContent = questions.length;
        }
    </script>
</body>
</html>
